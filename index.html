function applyTheme(){

let theme = document.getElementById("theme").value;

// Gambar ulang original dulu
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.drawImage(image,0,0,canvas.width,canvas.height);

// Buat overlay
let gradient = ctx.createLinearGradient(0,0,canvas.width,canvas.height);

if(theme === "ocean"){
gradient.addColorStop(0,"rgba(0,100,255,0.4)");
gradient.addColorStop(1,"rgba(0,200,255,0.4)");
}

if(theme === "forest"){
gradient.addColorStop(0,"rgba(0,150,50,0.4)");
gradient.addColorStop(1,"rgba(0,100,0,0.5)");
}

if(theme === "sunset"){
gradient.addColorStop(0,"rgba(255,100,0,0.4)");
gradient.addColorStop(1,"rgba(255,0,100,0.4)");
}

if(theme === "colorful"){
gradient.addColorStop(0,"rgba(255,0,255,0.3)");
gradient.addColorStop(1,"rgba(0,255,255,0.3)");
}

// Blend overlay
ctx.fillStyle = gradient;
ctx.fillRect(0,0,canvas.width,canvas.height);

// Tambah contrast ringan
let imgData = ctx.getImageData(0,0,canvas.width,canvas.height);
let data = imgData.data;

for(let i=0;i<data.length;i+=4){
data[i] = data[i] * 1.1;
data[i+1] = data[i+1] * 1.1;
data[i+2] = data[i+2] * 1.1;
}

ctx.putImageData(imgData,0,0);
}
